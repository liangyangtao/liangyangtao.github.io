---
layout: post
title:  JAVAWEB开发（四）【MySQL安装】
category: Java基础
date: 2015-12-08
---

标签： Java


<!-- more -->



##前言
鉴于一些刚接触项目开发的人来说，不会安装mysql，现在将教大家安装mysql的zip 安装方法。

## mysql zip 文件

第一步：下载文件

官网（5.7.9） 64 位下载地址：

http://cdn.mysql.com//Downloads/MySQL-5.7/mysql-5.7.9-winx64.zip


第二步：解压缩，在根目录下新建文件my.ini，在my.ini文件中，加入：skip-grant-tables（不需要密码验证，直接登录）

>
{% highlight java %}

####################配置文件开始###################
 # For advice on how to change settings please see
 # *** DO NOT EDIT THIS FILE. It's a template which will be copied to the
 # *** default location during install, and will be replaced if you
 # *** upgrade to a newer version of MySQL.
 [client]
 default-character-set=utf8

 [mysqld]
 port=3306
 basedir  ="D:/mysql/mysql-5.7.4-m14-winx64/"
 datadir  ="D:/mysql/mysql-5.7.4-m14-winx64/data/"
 tmpdir   ="D:/mysql/mysql-5.7.4-m14-winx64/data/"
 socket   ="D:/mysql/mysql-5.7.4-m14-winx64/data/mysql.sock"
 log-error="D:/mysql/mysql-5.7.4-m14-winx64/data/mysql_error.log"

 #server_id = 2
 #skip-locking

 max_connections=1000
 table_open_cache=256
 query_cache_size=1M

 tmp_table_size=32M
 thread_cache_size=8

 innodb_data_home_dir="D:/mysql/mysql-5.7.4-m14-winx64/data/"
 innodb_flush_log_at_trx_commit =1
 innodb_log_buffer_size=128M
 innodb_buffer_pool_size=128M
 innodb_log_file_size=10M
 innodb_thread_concurrency=16
 innodb-autoextend-increment=1000
 join_buffer_size = 128M
 sort_buffer_size = 32M
 read_rnd_buffer_size = 32M
 max_allowed_packet = 32M
 explicit_defaults_for_timestamp=true
 #sql-mode="STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION"
 #sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES
####################配置文件结束###################

{% endhighlight %}

第三步：初始化mysql目录
进入mysql bin 目录下执行
>
{% highlight java %}

bin\mysqld --initialize --user=mysql

{% endhighlight %}

第四步：启动mysql


bin\mysqld --standalone --console


第五步：在bin目录下输入：mysql -uroot -p   进入mysql控制台

第六步：use mysql  ，使用mysql数据库

第七步：修改root用户密码：UPDATE user SET authentication_string= password ('123456') WHERE User='root';

第八步：输入quit;退出mysql控制台，重新启动mysql，现在就可以用root和你的新密码登录了。

第九步：密码不过期配置：在my.ini 中加入：default_password_lifetime=0   ，设置为：0  表示密码永不过期

转载：



1. 解压MySQL压缩包
    将下载的MySQL压缩包解压到自定义目录下,我的解压目录是:
    "D:\Program Files\mysql-5.7.9-win32"
    将解压目录下默认文件 my-default.ini 拷贝一份，改名 my.ini
    复制下面的配置信息到 my.ini 保存
    #如果没有my-default.ini,可自己新建my.ini或者从其他地方中获取
#########################################################
    [client]
    port=3306
    default-character-set=utf8
    [mysqld]
    port=3306

    character_set_server=utf8

    #解压目录
    basedir=D:\Program Files\mysql-5.7.9-win32
    #解压目录下data目录
    datadir=D:\Program Files\mysql-5.7.9-win32\data

    sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES
    [WinMySQLAdmin]
    D:\Program Files\mysql-5.7.9-win32\bin\mysqld.exe
#########################################################


2. 添加环境变量
    操作如下：
    1）右键单击我的电脑->属性->高级系统设置(高级)->环境变量
      点击系统变量下的新建按钮
      输入变量名：MYSQL_HOME
      输入变量值：D:\Program Files\mysql-5.7.9-win32
      #即为mysql的自定义解压目录。
    2）选择系统变量中的Path
      点击编辑按钮
      在变量值中添加变量值：;%MYSQL_HOME%\bin
      注意是在原有变量值后面加上这个变量，用;隔开，不能删除原来的变量值


3.
    1）从控制台进入到MySQL解压目录下的 bin 目录下：

    2）输入服务安装命令：

        1. mysqld --console

        2. mysqld  --initialize

        3. mysqld install

    安装成功后会提示服务安装成功。

    #注： #执行这几步，是因为在MySQL5.7.9中没有data文件夹，需要用这几个命令产生data文件夹
    #移除服务命令为：mysqld remove

4. 启动MySQL服务
    方法一：
        启动服务命令为：net start mysql
    方法二：
        打开管理工具 服务，找到MySQL服务。
        通过右键选择启动或者直接点击左边的启动来启动服务。


5. 修改 root 账号的密码

        1. 修改MySQL的配置文件（my.ini）,在[mysqld]下添加一行skip-grant-tables

        2. mysql 重启后，即可直接用 mysql -u root -p 进入(此时密码为空)

        3. mysql> update mysql.user set authentication_string=password('123qaz') where user='root' and Host = 'localhost';


       4. mysql> flush privileges;

        5. mysql> quit;

        6. 将/etc/my.cnf文件还原(删除skip-grant-tables这一行)，重新启动 mysql

        7. 这个时候可以使用 mysql -u root -p '123qaz' 进入了

        8. mysql>SET PASSWORD = PASSWORD('123456'); 设置新密码




